if (self.CavalryLogger) { CavalryLogger.start_js(["WTwvd"]); }

__d("ImageTimingHelper",["MArtilleryEventBuffer","URI","ge"],(function a(b,c,d,e,f,g,h,i,j){var k={},l={};h.addInitializeListener(function(m){var n=m.emitter;n.addRetroactiveListener("insertPagelet",function(o){var p=o.elementId,q=o.lid,r=o.pagelet,s=o.ts,t=j(p);if(!t)return;[].forEach.call(t.getElementsByClassName("img"),function(u){var v=u.src||getComputedStyle(u).backgroundImage.slice(4,-1).replace(/[\'\"]/g,""),w=new i(v);v=w.setFragment("").toString();if(l[v])return;l[v]=true;var x=k[q];if(!x)x=k[q]=[];x.push({pagelet:r,ts:s,uri:v})})})});f.exports={getImageTimings:function m(n){return k[n]||[]}}}),null);
__d("MArtilleryEventAggregator",["MArtilleryEventBuffer","PageletEventConstsJS"],(function a(b,c,d,e,f,g,h,i){var j="pagelet_event",k={},l=false;function m(o){o.addRetroactiveListener(j,function(p){var event=p.event,q=p.ts,r=p.lid,s=p.id;k[r][s]=k[r][s]||{};k[r][s][event]=q})}var n={init:function o(){if(l)return;h.addInitializeListener(function(p){var q=p.lid,r=p.emitter;k[q]={};m(r)});l=true},getMetrics:function o(p){return k[p]?{pagelets:k[p]||{},categories:{},phase_start:{}}:null}};f.exports=n}),null);
__d("ResourceTimingMetricsEnumJS",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({START_TIME:"startTime",REDIRECT_START:"redirectStart",REDIRECT_END:"redirectEnd",FETCH_START:"fetchStart",DOMAIN_LOOKUP_START:"domainLookupStart",DOMAIN_LOOKUP_END:"domainLookupEnd",CONNECT_START:"connectStart",SECURE_CONNECTION_START:"secureConnectionStart",CONNECT_END:"connectEnd",REQUEST_START:"requestStart",RESPONSE_START:"responseStart",RESPONSE_END:"responseEnd"})}),null);
__d("ResourceTimingBootloaderHelper",["Bootloader","ErrorUtils","ImageTimingHelper","Map","ResourceTimingMetricsEnumJS","ResourceTimingsStore","ResourceTypes","Set","URI","forEachObject","isEmpty","performance"],(function aa(ba,ca,da,ea,a,fa,b,ga,ha,c,d,e,f,ia,g,h,i,j){var k=500,l=[],m={},n={},o={},ja=[".mp4",".m4v",".mpd","m4a"],p=new ia(["bootload","js_exec","start_bootload","tag_bootload"]);function ka(u){for(var v=ja,w=Array.isArray(v),x=0,v=w?v:v[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var y;if(w){if(x>=v.length)break;y=v[x++]}else{x=v.next();if(x.done)break;y=x.value}var z=y;if(u.endsWith(z))return true}return false}function q(u){var v=new c();e.getMapFor(u).forEach(function(w){if(w.requestSent!=null){var x=v.get(w.uri);if(x!=null)x.push(w);else v.set(w.uri,[w])}});v.forEach(function(w){return w.sort(function(x,y){return x.requestSent-y.requestSent})});return v}function r(u,v,w,x){var y=u.get(v);if(y==null){var z=v.indexOf("?");if(z!==-1){var A=v.substring(0,z);y=u.get(A)}}if(y!=null)for(var B=0;B<y.length;B++){var C=y[B],D=C.requestSent,E=C.responseReceived;if((w==null||D!=null&&D<=w)&&(x==null||E!=null&&E>=x))return y.splice(B,1)[0]}return null}function la(n,u,v,w,x,y,z){if(!j.timing||!j.getEntriesByType)return null;var A={},B=j.timing.navigationStart;if(v)A=ha.getImageTimings(w).sort(function(Z,$){return Z.ts-$.ts}).reduce(function(Z,$){if(Z[$.uri])return Z;Z[$.uri]=$.pagelet;return Z},{});var C=Array.from(j.getEntriesByType("resource")),D=C.filter(function(I){return I.duration>=0&&I.startTime!=null&&I.startTime+B>u&&(x==null||I.responseEnd==null||I.responseEnd+B<x)});D.sort(function(Z,$){return Z.startTime-$.startTime});var E=D.length,F=0,G=0,pa=0,qa=0,ra=0,sa=q(f.XHR),ta=q(f.CSS),ua=q(f.JS);for(var H=0;H<D.length;H++){var I=D[H],J="",K="",L="",M=void 0,va=I.initiatorType;switch(va){case"css":case"link":case"script":var N=e.parseMakeHasteURL(I.name);if(!N)continue;var wa=N[0],O=N[1];if((O==="css"||O==="js")&&z){var xa=O==="css"?ta:ua;M=r(xa,I.name,I.startTime+B,I.responseEnd+B);if(M!=null){K=O;J=M.uid;break}}if(O==="css"||O==="js"){K=O;var ya=o[I.name]||pa++;J=ya+"_"+wa}else{var P=ma(I.name);L=P[0];K=P[1];J=G+++"_"+L}break;case"img":J=G+++"_"+s(I.name);K="img";break;case"iframe":J=qa+++"_"+s(I.name)+t(I.name);K="iframe";break;case"xmlhttprequest":if(y){var za=s(I.name),Q=t(I.name);if(ka(Q)){J=ra+++"_"+za+Q;K="video";break}else{M=r(sa,I.name,I.startTime+B,I.responseEnd+B);if(M!=null){K=f.XHR;J=M.uid;break}}}default:continue}var R={},S=Object.keys(d);for(var T=0;T<S.length;T++){var U=d[S[T]],V=I[U];if(V)R[U]=V+j.timing.navigationStart}if(M!=null){var W=M,X=W.requestSent,Y=W.responseReceived;if(u!=null&&X!=null&&X<u||x!=null&&Y!=null&&Y>x)continue;R.requestSent=X;R.responseReceived=Y}R.type=K;R.desc=J;if(K=="img"&&Object.prototype.hasOwnProperty.call(A,I.name))R.pagelet=A[I.name];R.transferSize=I.transferSize;R.encodedBodySize=I.encodedBodySize;if(n[I.name]==undefined)n[I.name]=[];F++;n[I.name].push(R)}if(z)return{numValidEntries:E,numSuccessfulMetrics:F};return null}function s(u){var v=new g(u).getDomain();return v}function t(u){var v=new g(u).getPath();return v}function ma(u){return[s(u),"img"]}function na(u){var v=Object.keys(u).filter(function(x){return x.startsWith("start_bootload/")}).sort(function(x,y){return u[x]-u[y]}).map(function(x){return x.substring(x.indexOf("/")+1)});v.forEach(function(x){return p.forEach(function(y){var z=y+"/"+x;if(u[z]!=null)m[z]=u[z]})});l=l.concat(v);if(l.length>k){var w=l.splice(0,l.length-k);w.forEach(function(x){return p.forEach(function(y){if(m[y+"/"+x])delete m[y+"/"+x]})})}}var oa={addPastBootloaderMetricsToResourceTimings:function u(){var v=arguments.length<=0||arguments[0]===undefined?{}:arguments[0],w=arguments.length<=1||arguments[1]===undefined?{}:arguments[1],o=b.getURLToHashMap();h(v,function(x,y){var z=o[y];if(!z)return;var A=new c();A.set("bootloader_hash",z);p.forEach(function(B){var C=B+"/"+z,D=w[C]||m[C];if(D!=null)A.set(B,D)});if(A.size>0)x.forEach(function(B){if(B.requestSent||B.responseReceived)return;A.forEach(function(C,D){return B[D]=C})})})},mergeBootloaderMetricsAndResourceTimings:function u(){var v=arguments.length<=0||arguments[0]===undefined?{}:arguments[0],w=arguments.length<=1||arguments[1]===undefined?{}:arguments[1],x=arguments.length<=2||arguments[2]===undefined?true:arguments[2];if(i(o))o=b.getURLToHashMap();var y=new c();h(o,function(A,B){y.set(A,B)});var z=[];h(w,function(n,A){var B=A.indexOf("/");if(B===-1)return;var C=A.substring(0,B);if(!p.has(C))return;z.push(A);var D=A.substring(B+1),E=y.get(D);if(!E){E=D;D=o[E];if(!D)return}if(E.startsWith("data:"))E="inlined resource: "+D;if(v[E]==null)v[E]=[{}];v[E].forEach(function(F){F.bootloader_hash=D;F[C]=n})});if(!x){na(w);z.forEach(function(A){return delete w[A]})}return v},getLastTTIAndE2EImageResponseEnds:function u(v,w,x){var y={TTI:v,E2E:w};if(!j.timing)return y;var z=x.filter(function(C){return C.ts<=v}).map(function(C){return C.uri}).reduce(function(C,B){C[B]=true;return C},{}),A=x.map(function(C){return C.uri}).reduce(function(C,B){C[B]=true;return C},{});for(var B in n)n[B].forEach(function(C){if(C.type==="img"){if(z[B])y.TTI=Math.max(y.TTI,C.responseEnd);if(A[B])y.E2E=Math.max(y.E2E,C.responseEnd)}});return y},getMetrics:function u(v,w,x,y,z,A){n={};if(i(o))o=b.getURLToHashMap();var B=la(n,v,w,x,y,z,A);return{data:n,diagnostics:B}}};a.exports=oa}),null);
__d("ReactSpeedHelper",["LogBuffer","ReactDOM"],(function a(b,c,d,e,f,g,h,i){var j={enableRenderMeasurements:function k(){if(!i.enableRenderMeasurements)return;i.enableRenderMeasurements()},getMetrics:function k(l,m){return h.read("react_speed").filter(function(n){return(l==null||n.begin>=l)&&(m==null||n.end<=m)})}};f.exports=j}),null);
__d("sourceMetaToString",[],(function a(b,c,d,e,f,g){function h(i,j){var k;if(i.name){k=i.name;if(i.module)k=i.module+"."+k}else if(i.module)k=i.module+".<anonymous>";if(j&&i.line){k=(k?k:"<anonymous>")+":"+i.line;if(i.column)k+=":"+i.column}return k}f.exports=h}),null);
__d("TimeSliceHelper",["LogBuffer","Map","ProfilingCounters","ReactSpeedHelper","sourceMetaToString"],(function a(b,c,d,e,f,g,h,i,j,k,l){var m=function m(t,u){return Math.round((t-u)*1e3)},n={counterFunction:function t(u){return u.getNestedTotals()}};function o(t,u,v,w){var x=u.counterFunction,y=void 0;if(v.guard){var z=l(v),A=v.guard.toString();y=z?A+" at "+z:A}else y=v.desc;var B=w!=null?x(w):null,C={begin:v.begin,end:v.end,name:y,id:v.id,counters:B,isEdgeContinuation:v.isEdgeContinuation};if(v.parentID&&v.parentID!==v.id)C.parentID=v.parentID;t.push(C)}function p(t,u,v){var w=u.counterFunction,x={begin:v.begin,end:v.end,name:"JS["+v.count+"]",counters:w(j.wrapInSingleContext(v.contextsToBeMerged))};t.push(x)}function q(t,u){var v=u.indirectParentID,w=u.id,x=u.isEdgeContinuation;if(v!=null){var y=t.get(v),z=void 0;x=x;if(y!=null)z={indirectParentID:y.indirectParentID,isEdgeContinuation:x&&y.isEdgeContinuation};else z={indirectParentID:v,isEdgeContinuation:x};t.set(w,z)}}function r(t,u){var v=u.indirectParentID,w=u.isEdgeContinuation,x=u.id;if(v!=null&&v!==x){var y=t.get(v);if(y!=null){v=y.indirectParentID;w=y.isEdgeContinuation&&w}return babelHelpers["extends"]({},u,{parentID:v,isEdgeContinuation:w})}return u}var s={formatMetricsForTransport:function t(u){var v=[],w=[],x=[],y=new i(),z=new i(),A=0,B=function B(D,E,F){var G=void 0;if(E.has(D))G=E.get(D);else{G=F.length;E.set(D,G);F.push(D)}return G},C=[];if(u!=null)u.forEach(function(D){var E=D.begin,F=D.end,G=D.name,H=D.id,I=D.counters,J=D.parentID,K=D.isEdgeContinuation,L=m(E,A),M=m(F,E);A=F;var N=B(G,y,v),O=[L,M,N],P=I||{},Q=Object.keys(P).filter(function(U){return P[U]!==0}).sort(),R=void 0;if(Q.length>0){var S=Q.join(),T=B(S,z,x);R=Q.map(function(G){return P[G]});R.unshift(T)}else R=[];if(H)O.push(H);if(J){O.push(J);O.push(K)}C.push(O);w.push(R)});return{version:"compact",items:C,names:v,counters:w,counterSchemas:x}},getMetrics:function t(u,v,w,x,y,z){var A=function A(B,C){var D=C.end-C.begin<w,E=B&&C.begin-B.end<x&&D;return{shouldMergeIntoCurrentMerge:E,shouldFlushCurrentThenNewMerge:D}};return this.getCustomMergeMetrics(u,v,A,y,z)},getCustomMergeMetrics:function t(u,v,w,x,y){var z;if(y==null)y=n;else y=babelHelpers["extends"]({},n,y);var A=function A(P){var Q=P.id;return Q&&x[Q]?x[Q]:null},B=[],C=o.bind(undefined,B,y),D=p.bind(undefined,B,y),E=h.read("time_slice"),F=h.read("time_slice_heartbeat");if(E.length>0)(function(){var P=Math.max.apply(null,E.map(function(Q){return Q.id}));F.forEach(function(Q){return Q.id+=P})})();var G=k.getMetrics().map(function(P){return babelHelpers["extends"]({},P,{desc:"React["+P.name+"]"})}),H=E.concat(F,G),I=void 0,J=new i(),K=q.bind(undefined,J),L=r.bind(undefined,J),M=function M(){if(I)if(I.count>1)D(I);else C(L(I.first),A(I.first));I=null},N=H.sort(function(P,Q){if(P.begin!==Q.begin)return P.begin-Q.begin;else if(P.end!==Q.end)return P.end-Q.end;else return 0}).filter(function(P){return(u==null||P.end>=u)&&(v==null||P.begin<=v)});if(N.length>0&&!N[0].representsExecution&&N[0].begin<u){var O=N[0];N[0]=babelHelpers["extends"]({},O,{begin:u})}N.forEach(function(P){var Q=w(I,P),R=Q.shouldMergeIntoCurrentMerge,S=Q.shouldFlushCurrentThenNewMerge,T=A(P);if(I&&R){I.end=P.end;I.count++;if(T)I.contextsToBeMerged.push(T);if(I.count===2)K(I.first);K(P)}else if(S){M();var U=[];if(T)U.push(T);I={begin:P.begin,end:P.end,count:1,first:P,contextsToBeMerged:U}}else if(!S){M();C(L(P),T)}});M();return B}};f.exports=s}),null);
__d("MArtilleryLogger",["ArtilleryOnUntilOffLogging","ArtilleryExperiments","Banzai","BanzaiLogger","Bootloader","ImageTimingHelper","MArtilleryEventAggregator","NavigationMetrics","NavigationTimingHelper","ResourceTimingBootloaderHelper","TimeSliceHelper","performance","performanceAbsoluteNow","ResourceWatcher"],(function aa(ba,a,ca,da,b,ea,c,d,e,f,g,h,i,j,k,l,m,n,o){var p=a("ResourceWatcher").module,q=n.timing&&n.timing.navigationStart&&n.timing.fetchStart,r=d.artillery_timeslice_compressed_data,s={isInitialized:false,enabled:{},enableProfilingWithClientData:function t(u,v){this.enabled[u]=true;if(q&&!this.isInitialized){this.isInitialized=true;i.init();j.addRetroactiveListener(j.Events.NAVIGATION_DONE,function(w,event){if(this.enabled[event.serverLID])e.post("artillery_logger_data",Object.assign(v,this.getPayload(event,v)),e.VITAL)}.bind(this))}},getPayload:function t(event,u){c.finish();var v=o(),w=event.e2e,x=event.pageType,y=event.pageURI,z=event.start,A=event.tti,B=event.serverLID,C={pagelet_events:i.getMetrics(B),perfx:{page:event.page,page_type:event.pageType},resource_timing_bootloader:{},t_bigpipe_tti:A,t_onload:w,t_tti:A},D=l.getLastTTIAndE2EImageResponseEnds(A,w,h.getImageTimings(B)),E=D.TTI,F=D.E2E;if(!isNaN(E)&&E!==z)C.t_tti_with_images=E;if(!isNaN(F)&&F!==z)C.t_marker_bigpipe_e2e_with_images=F;var G=n.timing.navigationStart;if(x==="normal"){var H=n.timing.fetchStart;C.perfx.e2e=w-H;C.perfx.tti=A-H;C.navigation_timing=k.getNavTimings();C.time_slice=m.getMetrics(G,w,1,1);C.resource_timing_bootloader=l.getMetrics(0,false).data}else if(x==="ajax"&&n.getEntriesByName){var I=n.getEntriesByName(y);if(I.length>0){C.navigation_timing=k.getAsyncRequestTimings(y);var J=I[0],K=J.startTime,L=J.fetchStart,M=L+G;C.perfx.e2e=w-M;C.perfx.tti=A-M;C.time_slice=m.getMetrics(G+K,w,1,1);C.resource_timing_bootloader=l.getMetrics(K,false).data}}if(C.time_slice&&r)C.time_slice=m.formatMetricsForTransport(C.time_slice);var N=null,O=null;if(p){var P={};N=g.getURLToHashMap();O=p.getMetrics();var Q=/\/(.+)/;for(var R=Object.entries(O),S=Array.isArray(R),T=0,R=S?R:R[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var U;if(S){if(T>=R.length)break;U=R[T++]}else{T=R.next();if(T.done)break;U=T.value}var V=U,W=V[0],X=V[1];W=W.replace(Q,function(ga,ha){return"/"+N[ha]});P[W]=X}l.mergeBootloaderMetricsAndResourceTimings(C.resource_timing_bootloader,P,true)}try{var Y=u.__artillery_client.action_id,Z=Y.slice(0,Y.indexOf("-")),$=B.slice(0,B.indexOf("-"));f.log("ResourceTimingLoggerConfig",{bootload_hash:JSON.stringify(N),cavalry_metrics:JSON.stringify(O),resource_timings:JSON.stringify(C.resource_timing_bootloader),resource_watcher:!!p,trace_id:u.__artillery_client.trace_id,nav_type:event.pageType,page:event.page,tti:event.tti,e2e:event.e2e,action_id:Z,load_id:$,equal:Z===$})}catch(fa){}C.generation_time=o()-v;return C}};b.exports=s}),null);